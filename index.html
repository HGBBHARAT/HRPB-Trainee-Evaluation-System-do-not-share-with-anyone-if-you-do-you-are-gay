<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRBR | Cyber Command</title>
    <style>
        /* --- CONFIGURATION START --- */
        const CONFIG = {
            WEBHOOK: "YOUR_WEBHOOK_URL_HERE",
            ANNOUNCE_ROLE: "YOUR_ROLE_ID_HERE",
            PASSWORD: "HRMC-X9-7721-OMEGA"
        };
        /* --- CONFIGURATION END --- */

        :root {
            --bg-deep: #050a1f;      /* Dark Blue background */
            --bg-panel: #0d1b3e;     /* Light Blue background */
            --neon-pink: #ff00ff;    /* Neon Pink lines */
            --neon-blue: #00f2ff;    /* Neon Light Blue accent */
            --gold: #d4af37;         /* Gold text */
            --text: #ffffff;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-deep);
            color: var(--text);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #login-screen {
            background: var(--bg-panel);
            padding: 2.5rem;
            border: 2px solid var(--neon-pink);
            box-shadow: 0 0 15px var(--neon-pink);
            text-align: center;
        }

        #dashboard {
            display: none;
            width: 95%;
            max-width: 1000px;
            background: var(--bg-panel);
            border: 2px solid var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid var(--neon-pink);
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            color: var(--gold);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .tab.active {
            background: rgba(255, 0, 255, 0.1);
            text-shadow: 0 0 10px var(--neon-pink);
        }

        .content { padding: 30px; display: none; }
        .content.active { display: block; }

        label { color: var(--neon-blue); font-weight: bold; display: block; margin-top: 15px; }
        
        input, textarea {
            background: #050a1f;
            border: 1px solid var(--neon-blue);
            color: white;
            padding: 10px;
            width: 100%;
            box-sizing: border-box;
            margin-top: 5px;
        }

        /* Clickable Yes/No Toggles */
        .toggle-group {
            display: flex;
            gap: 0;
            margin: 10px 0;
            border: 1px solid var(--neon-pink);
            width: fit-content;
        }

        .toggle-btn {
            padding: 10px 25px;
            cursor: pointer;
            background: transparent;
            color: white;
            border: none;
            transition: 0.3s;
        }

        .toggle-btn.active-yes { background: #00ff00; color: black; }
        .toggle-btn.active-no { background: #ff0000; color: white; }

        .trainee-card {
            border: 1px solid var(--neon-pink);
            background: rgba(255, 0, 255, 0.05);
            padding: 15px;
            margin: 10px 0;
        }

        #publish-btn {
            background: var(--bg-deep);
            color: var(--neon-blue);
            border: 2px solid var(--neon-blue);
            width: 100%;
            padding: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
        }

        #publish-btn:hover {
            background: var(--neon-blue);
            color: black;
            box-shadow: 0 0 20px var(--neon-blue);
        }

        h2, h3 { color: var(--gold); text-shadow: 2px 2px black; }
    </style>
</head>
<body>

    <div id="login-screen">
        <h2>HIGH ROCK BORDER ROLEPLAY</h2>
        <p style="color:var(--neon-blue)">ENCRYPTED ACCESS REQUIRED</p>
        <input type="password" id="access-pass" style="text-align:center">
        <br><br>
        <button onclick="checkPass()" style="background:var(--neon-pink); color:white; padding:10px 30px; border:none; cursor:pointer;">DECRYPT</button>
    </div>

    <div id="dashboard">
        <div class="tabs">
            <div class="tab active" onclick="showTab('announce')">Announcements</div>
            <div class="tab" onclick="showTab('results')">Training Results</div>
        </div>

        <div id="announce" class="content active">
            <h3>ANNOUNCEMENT TERMINAL</h3>
            <label>Trainer User ID</label><input type="text" id="ann-uid">
            <label>Timezone</label><input type="text" id="ann-tz">
            <label>Local Time</label><input type="text" id="ann-time">
            <label>Location</label><input type="text" id="ann-loc">
            <label>Additional Info</label><textarea id="ann-info"></textarea>
            <br><br>
            <button onclick="sendAnnounce()" style="background:var(--neon-blue); padding:15px; border:none; width:100%; font-weight:bold;">BROADCAST TO DISCORD</button>
        </div>

        <div id="results" class="content">
            <h3>RESULT COMPILER (MAX 5)</h3>
            <div style="display:flex; gap:20px;">
                <div style="flex:1"><label>Trainer Roblox</label><input type="text" id="res-host-rblx"></div>
                <div style="flex:1"><label>Trainer Discord ID</label><input type="text" id="res-host-id"></div>
            </div>

            <div style="border: 1px dashed var(--neon-pink); padding: 20px; margin-top: 20px;">
                <label>Trainee Name & UID</label>
                <div style="display:flex; gap:10px;">
                    <input type="text" id="tr-rblx" placeholder="Username">
                    <input type="text" id="tr-id" placeholder="User ID">
                </div>

                <label>Knowledge Score (0-10)</label>
                <input type="number" id="tr-know" max="10">
                <label>Knowledge Notes</label>
                <textarea id="tr-know-notes"></textarea>

                <label>Mod-Call Evaluation</label>
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <span>Proper SPAG?</span>
                        <div class="toggle-group" id="group-spag">
                            <div class="toggle-btn" onclick="setToggle('spag', true)">YES</div>
                            <div class="toggle-btn" onclick="setToggle('spag', false)">NO</div>
                        </div>
                    </div>
                    <div>
                        <span>Healed Trainer?</span>
                        <div class="toggle-group" id="group-heal">
                            <div class="toggle-btn" onclick="setToggle('heal', true)">YES</div>
                            <div class="toggle-btn" onclick="setToggle('heal', false)">NO</div>
                        </div>
                    </div>
                    <div>
                        <span>Punished Correct?</span>
                        <div class="toggle-group" id="group-punish">
                            <div class="toggle-btn" onclick="setToggle('punish', true)">YES</div>
                            <div class="toggle-btn" onclick="setToggle('punish', false)">NO</div>
                        </div>
                    </div>
                    <div>
                        <span>Evidence Used?</span>
                        <div class="toggle-group" id="group-evid">
                            <div class="toggle-btn" onclick="setToggle('evid', true)">YES</div>
                            <div class="toggle-btn" onclick="setToggle('evid', false)">NO</div>
                        </div>
                    </div>
                </div>
                <label>Mod-Call Notes</label>
                <textarea id="tr-mod-notes"></textarea>

                <div style="display:flex; gap:10px; margin-top:20px;">
                    <button onclick="addTrainee(false)" style="flex:1; background:var(--neon-blue); padding:10px; border:none; font-weight:bold;">ADD TRAINEE</button>
                    <button onclick="addTrainee(true)" style="flex:1; background:var(--neon-pink); padding:10px; border:none; color:white; font-weight:bold;">DISQUALIFY</button>
                </div>
            </div>

            <div id="summary-list"></div>
            <button id="publish-btn" onclick="publishResults()">PUBLISH RESULTS</button>
        </div>
    </div>

    <script>
        // Internal state
        let traineeList = [];
        let currentToggles = { spag: null, heal: null, punish: null, evid: null };

        function checkPass() {
            if(document.getElementById('access-pass').value === "HRMC-X9-7721-OMEGA") {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('dashboard').style.display = 'block';
            } else { alert("ACCESS DENIED: INCORRECT KEY"); }
        }

        function showTab(id) {
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        function setToggle(key, val) {
            currentToggles[key] = val;
            const group = document.getElementById(`group-${key}`);
            group.children[0].className = val === true ? 'toggle-btn active-yes' : 'toggle-btn';
            group.children[1].className = val === false ? 'toggle-btn active-no' : 'toggle-btn';
        }

        function addTrainee(isDQ) {
            if(traineeList.length >= 5) return alert("Batch Full (Max 5)");
            let reason = isDQ ? prompt("Enter Disqualification Reason:") : "";
            if(isDQ && !reason) return;

            const know = parseInt(document.getElementById('tr-know').value) || 0;
            const modPoints = Object.values(currentToggles).filter(v => v === true).length * 2.5;
            const total = know + modPoints;

            traineeList.push({
                rblx: document.getElementById('tr-rblx').value,
                id: document.getElementById('tr-id').value,
                know: know,
                knowNotes: document.getElementById('tr-know-notes').value,
                mod: modPoints,
                modNotes: document.getElementById('tr-mod-notes').value,
                total: total,
                status: isDQ ? "DQ" : (total >= 14 ? "PASS" : "FAIL"),
                reason: reason,
                toggles: {...currentToggles}
            });

            updateSummary();
            // Clear inputs
            ['tr-rblx', 'tr-id', 'tr-know', 'tr-know-notes', 'tr-mod-notes'].forEach(i => document.getElementById(i).value = "");
            currentToggles = { spag: null, heal: null, punish: null, evid: null };
            document.querySelectorAll('.toggle-btn').forEach(b => b.className = 'toggle-btn');
        }

        function updateSummary() {
            const container = document.getElementById('summary-list');
            container.innerHTML = "<h4>BATCH SUMMARY:</h4>";
            traineeList.forEach((t, i) => {
                container.innerHTML += `<div class="trainee-card">${i+1}. ${t.rblx} | SCORE: ${t.total}/20 | STATUS: ${t.status}</div>`;
            });
        }

        async function publishResults() {
            const hostId = document.getElementById('res-host-id').value;
            const hostRblx = document.getElementById('res-host-rblx').value;
            let pings = `<@${hostId}> `;
            traineeList.forEach(t => pings += `<@${t.id}> `);

            const embeds = traineeList.map(t => ({
                title: `TRAINING RESULT: ${t.status}`,
                color: t.status === "PASS" ? 65280 : 16711680,
                fields: [
                    { name: "Host", value: `${hostRblx} (${hostId})`, inline: true },
                    { name: "Candidate", value: `${t.rblx} (${t.id})`, inline: true },
                    { name: "Score", value: `${t.total}/20`, inline: true },
                    { name: "Knowledge", value: `Score: ${t.know}/10\nNotes: ${t.knowNotes}` },
                    { name: "Mod-Call", value: `SPAG: ${t.toggles.spag?'Y':'N'} | Healed: ${t.toggles.heal?'Y':'N'}\nNotes: ${t.modNotes}` }
                ]
            }));

            await fetch("YOUR_WEBHOOK_URL_HERE", {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ content: pings, embeds: embeds })
            });
            alert("UPLOAD COMPLETE");
            location.reload();
        }

        function sendAnnounce() {
            const payload = {
                content: `<@${document.getElementById('ann-uid').value}> <@&YOUR_ROLE_ID_HERE>`,
                embeds: [{
                    title: "⚔️ HIGH ROCK BORDER TRAINING",
                    color: 16711935,
                    fields: [
                        { name: "Time", value: `${document.getElementById('ann-time').value} ${document.getElementById('ann-tz').value}` },
                        { name: "Location", value: document.getElementById('ann-loc').value },
                        { name: "Notes", value: document.getElementById('ann-info').value }
                    ]
                }]
            };
            fetch("YOUR_WEBHOOK_URL_HERE", {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(payload)
            }).then(() => alert("BROADCAST SENT"));
        }
    </script>
</body>
</html>
